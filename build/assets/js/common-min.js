$(function(){var a=$(".reviews-list.owl-carousel").owlCarousel({items:3,dots:!0,margin:0,responsive:{1920:{items:3},1600:{items:3},1440:{items:3},1280:{items:3},991:{items:3},720:{items:2},440:{items:1},360:{items:1},0:{items:1}}});a.on("mousewheel",".owl-stage",function(i){i.deltaY>0?a.trigger("prev.owl"):a.trigger("next.owl"),i.preventDefault()}),$(".hamburger").click(function(a){a.preventDefault(),$(this).toggleClass("is-active"),$(this).hasClass("is-active")&&($(".mobile-nav").css({display:"block"}),$(".mobile-nav nav").animate({"margin-left":"0"},500),$(".wrapper").css({overflow:"hidden"}),$("body").css({overflow:"hidden"}))}),$(".mobile-nav").click(function(a){$(".hamburger").hasClass("is-active")&&($(".mobile-nav nav").animate({"margin-left":"-300px"},500,function(){$(".mobile-nav").css({display:"none"})}),$(".wrapper").css({overflow:"auto"}),$("body").css({overflow:"auto"}),$(".hamburger").removeClass("is-active"))}),$.getJSON("assets/js/shop-data.json",function(a){!function(a){a.forEach(a=>{$(".locations").append('<div class="location"><div class= "location__address">'+a.shopName+", "+a.address+"</div></div >")});var i=$(".locations.owl-carousel").owlCarousel({items:8,loop:!0,dots:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,margin:10,responsive:{1920:{items:8},1600:{items:7},1440:{items:6},1280:{items:5},991:{items:4},720:{items:3},440:{items:2},360:{items:1},0:{items:1}}});i.on("mousewheel",".owl-stage",function(a){a.deltaY>0?i.trigger("prev.owl"):i.trigger("next.owl"),a.preventDefault()})}(a),function(a){if(0==a.length)return;a.forEach((a,i)=>{0==i?$(".map__info-panel").append('<div class="location active"><div class="location__address">'+a.shopName+", "+a.address+"</div></div>"):$(".map__info-panel").append('<div class="location"><div class="location__address">'+a.shopName+", "+a.address+"</div></div>")}),0!=$("#map").length&&DG.then(function(){var i,s=0;i=DG.map("map",{center:a[0].position,zoom:17}),a.forEach(a=>{DG.marker(a.position).addTo(i)}),$(".map .location").click(function(){var t=$(this).index();$(".map__info-panel").children().eq(s).removeClass("active"),$(this).addClass("active"),i.panTo(a[t].position),s=t})})}(a),function(a){a.forEach((a,i)=>{$(".contact-list").append('<div class="simple-accordion__item contact-list__item"><div class="simple-accordion__header contact-list__header"><div class="contact-list__contact-content"><div class="contact-list__contact-item"><p class="contact-list__city">'+a.shopName+'</p><p class="contact-list__address">'+a.address+'</p></div><div class="contact-list__contact-item"><div class="contact-list__phone"><div class="contact-list__icon"> <img src="assets/img/phone-gray.svg" alt=""></div> <a href="tel:+79009150297" class="contact-list__phone-link">+ 7 (900) 915-02-97</a></div><div class="contact-list__email"><div class="contact-list__icon"> <img src="assets/img/mail-gray.svg" alt=""></div> <a href="mailto:info@smtel29.ru" class="contact-list__email-link">info@smtel29.ru</a></div><div class="contact-list__work-time"><div class="contact-list__icon"> <img src="assets/img/clock-gray.svg" alt=""></div><p class="contact-list__work-time-text">'+a.workTime+'</p></div></div></div></div><div><div class="contact-list-gallery"><div class="contact-list-gallery__image"> <a href="assets/img/banner-bg.jpg" data-fancybox="images"> <img src="assets/img/banner-bg.jpg" alt="" /> </a></div><div class="contact-list-gallery__image"> <a href="assets/img/banner-bg.jpg" data-fancybox="images"> <img src="assets/img/banner-bg.jpg" alt="" /> </a></div><div class="contact-list-gallery__image"> <a href="assets/img/banner-bg.jpg" data-fancybox="images"> <img src="assets/img/banner-bg.jpg" alt="" /> </a></div></div><div id="map-'+i+'" class="contact-list__map"></div></div></div>')});var i=[];DG.then(function(){a.forEach((a,s)=>{var t;0!=$("#map-"+s).length&&(t=DG.map("map-"+s,{center:a.position,zoom:17}),DG.marker(a.position).addTo(t),i.push(t))})}),$(".simple-accordion").accordion({heightStyle:"content",collapsible:!0,header:"> .simple-accordion__item > .simple-accordion__header",activate:function(a,s){i.forEach(a=>{a.invalidateSize()})}})}(a)}).fail(function(){$(".simple-accordion").accordion({heightStyle:"content",collapsible:!0,header:"> .simple-accordion__item > .simple-accordion__header"})})});